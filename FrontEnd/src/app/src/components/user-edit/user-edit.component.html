<app-drawer>
  <ng-container main-content>
    <span class="mainPage">
      <mat-card class="tarjeta">
        <mat-card-header>
          <div class="header">
            <button mat-icon-button class="back-btn" aria-label="Go back" (click)="homePage()">
              <mat-icon>chevron_left</mat-icon>
            </button>

            <div class="avatar-container">
              <div class="user-avatar">
                <img class="user-avatar-img" [src]="userImage" alt="User Image">
              </div>
            </div>

            <div class="role-container">
              <mat-button-toggle-group
                name="role"
                aria-label="role"
                [(ngModel)]="user.role" required>
                
                @for (role of roles; track $index) {
                  <mat-button-toggle [value]="role" (click)="changeRole(role)">
                    {{ role.toLowerCase() }}
                  </mat-button-toggle>
                }
                
                
              </mat-button-toggle-group>
            </div>
          </div>
        </mat-card-header>

        <mat-divider class="divisor"></mat-divider>

        <mat-card-content>
          <div class="user-content">


            <div class="fila common-rows" id="fila1">

              <div>
                <label>Name</label>
                <input id="firstName" type="text" [(ngModel)]="user.firstName" name="firstName"/>
              </div>
              
              <div>
                <label>Surname</label>
                <input id="lastName" type="text" [(ngModel)]="user.lastName" name="lastName"/>
              </div>

            </div>


            <div class="fila common-rows" id="fila2">

              <div>
                <label>DNI</label>
                <input id="dni" type="text" [(ngModel)]="user.dni" name="dni"/>
              </div>
              
              <div id="special-column">
                <label>Email</label>
                <input class="mail" id="email" type="text" [(ngModel)]="user.email" name="email" disabled/>
              </div>

            </div>


            <div class="fila common-rows" id="fila3">

              <div>
                <label>Mobile</label>
                <input id="phone" type="tel" [(ngModel)]="user.phone" name="phone"/>
              </div>

              <div id="special-column">
                <button mat-raised-button color="primary" (click)="PasswordChange()">
                  Change password
                  <mat-icon class="icon-right">chevron_right</mat-icon>
                </button>
            </div>


            </div>

            <div class="fila common-rows" id="fila4">

              <button mat-button class="custom-button" type="submit" (click)="saveChanges()">
                Save
              </button>
              
            </div>

          </div>
        </mat-card-content>
      </mat-card>
    </span>
  </ng-container>
</app-drawer>
