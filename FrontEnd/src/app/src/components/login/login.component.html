<app-toolbar></app-toolbar>
<div class="contenedor">
  <mat-card>
    <mat-card-header>
      <p class="titulo">Iniciar sesión</p>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="formGroup">
        <mat-form-field class="example-full-width" id="email">
          <mat-label>Email</mat-label>
          <input [errorStateMatcher]="matcher" formControlName="email" matInput placeholder="Ex. pat@example.com"
                 required type="email">
          @if (formGroup.get('email')?.hasError('email') && !formGroup.get('email')?.hasError('required')) {
            <mat-error>
              Por favor, ingrese un Email válido
            </mat-error>
          }
          @if (formGroup.get('email')?.hasError('required')) {
            <mat-error>
              Tu email es <b>necesario</b> para que puedas iniciar sesión
            </mat-error>
          }
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <mat-label>Contraseña</mat-label>
          <input [type]="hide ? 'password' : 'text'" formControlName="repassword" matInput placeholder="Ingresá tu contraseña"
                 required>
          <button (click)="hide = !hide" mat-icon-button matSuffix style="
    font-size: 16px !important;
    height: 40px !important;
    margin-top: 0 !important;">
            <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="formGroup.get('repassword')?.errors?.['mismatch'] && formGroup.get('repassword')?.touched">
            Tus contraseñas no coinciden
          </mat-error>
        </mat-form-field>
        <div id="olvidaste">
          <section (click)="forgot()" class="forgot">¿Olvidaste tu contraseña?</section>
        </div>
        <div class="botones">

          <button (click)="onLogin()" id="login" mat-flat-button type="submit">
            Iniciar sesión
          </button>

          <button (click)="signup()" id="signup" mat-raised-button>
            Registrarse
          </button>

        </div>

        <button (click)="volver()" id="volver" mat-stroked-button>
          Volver
        </button>

        <div class="opciones">
          <mat-divider></mat-divider>
          <p> o iniciá sesión con </p>
          <mat-divider></mat-divider>
        </div>

        <div class="formas-login">
          <button (click)="google()" class='button-image' id="google" mat-icon-button>
            <img alt="google" src="https://img.icons8.com/?id=17935&format=png&color=b9a552" style='color:white'>
          </button>
          <button (click)="microsoft()" class='button-image' id="microsoft" mat-icon-button>
            <img alt="microsoft" src="https://img.icons8.com/?id=tW7wnUgft8zp&format=png&color=b9a552">
          </button>
          <button (click)="facebook()" class='button-image' id="facebook" mat-icon-button>
            <img alt="facebook" class="facebookimg"
                 src="https://img.icons8.com/?id=118467&format=png&color=b9a552">
          </button>
        </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>
